@model SistemaAnubis.Models.DTO.ClienteDTO

@{
    ViewBag.Title = "Cadastrar Cliente";
    if (SistemaAnubis.MvcApplication.Session.Instance.Nome == null)
    {
        Layout = "~/Views/Shared/_Layout.cshtml";


        using (Html.BeginForm("Cliente", "Cadastro", FormMethod.Post, new { @id = "formUrna", @style = "padding: 10% 0 10% 0;", @class = "form-container" }))
        {


            <legend class="text-center card-title" style="color:white">Cadastrar Cliente</legend>
            <div class="form-group col-4 mx-auto" style="margin-bottom: 0;">
                <fieldset>

                    @Html.ValidationSummary()

                    @Html.LabelFor(m => m.User)<small class="text-muted" id="erro">@ViewBag.erro</small>

                    @Html.TextBoxFor(m => m.User, new { @class = "form-control" })

                    @Html.ValidationMessageFor(m => m.User)

                    @Html.LabelFor(m => m.Senha)

                    @Html.PasswordFor(m => m.Senha, new { @class = "form-control" })

                    @Html.LabelFor(m => m.ConfSenha)  <small class="text-muted" id="erro">@ViewBag.erro4</small>

                    @Html.PasswordFor(m => m.ConfSenha, new { @class = "form-control" })


                    @Html.LabelFor(m => m.Nome)

                    @Html.TextBoxFor(m => m.Nome, new { @class = "form-control" })

                    @Html.LabelFor(m => m.Cpf) <small class="text-muted" id="erro">@ViewBag.erro2</small>

                    @Html.TextBoxFor(m => m.Cpf, new { @class = "form-control" })

                    @Html.LabelFor(m => m.Email) <small class="text-muted" id="erro">@ViewBag.erro3</small>

                    @Html.TextBoxFor(m => m.Email, new { @type = "email", @class = "form-control" })

                    @Html.LabelFor(m => m.Telefone)

                    @Html.TextBoxFor(m => m.Telefone, new { @class = "form-control" })

                    @Html.LabelFor(m => m.Celular)

                    @Html.TextBoxFor(m => m.Celular, new { @class = "form-control" })

                    @Html.LabelFor(m => m.Cep)

                    @Html.TextBoxFor(m => m.Cep, new { @class = "form-control" })

                    @Html.LabelFor(m => m.Num)

                    @Html.TextBoxFor(m => m.Num, new { @class = "form-control" })

                    <div class="col text-center my-3">
                        <button type="submit" class="btn btn-primary">Enviar</button>
                    </div>

                </fieldset>
            </div>

        }
    }

    else
    {
        Layout = "~/Views/Shared/_Logado.cshtml";
        if (int.Parse(MvcApplication.Session.Instance.Nvl) <= 2)
        {
            using (Html.BeginForm("Cliente", "Cadastro", FormMethod.Post, new { @id = "formUrna", @style = "padding: 10% 0 10% 0;", @class = "form-container" }))
            {


                <legend class="text-center card-title" style="color:white">Cadastrar Cliente</legend>
                <div class="form-group col-4 mx-auto" style="margin-bottom: 0;">
                    <fieldset>


                        @Html.LabelFor(m => m.User) <br>

                        @Html.TextBoxFor(m => m.User, new { @class = "form-control" })  @ViewBag.erro <br>

                        @Html.LabelFor(m => m.Senha) <br>

                        @Html.PasswordFor(m => m.Senha, new { @class = "form-control" }) <br>

                        @Html.LabelFor(m => m.ConfSenha) <br>

                        @Html.PasswordFor(m => m.Senha, new { @class = "form-control" }) <br>

                        @Html.LabelFor(m => m.Nome) <br>

                        @Html.TextBoxFor(m => m.Nome, new { @class = "form-control" })<br>

                        @Html.LabelFor(m => m.Cpf) <br>

                        @Html.TextBoxFor(m => m.Cpf, new { @class = "form-control" }) <br>

                        @Html.LabelFor(m => m.Email) <br>

                        @Html.TextBoxFor(m => m.Email, new { @class = "form-control" }) <br>

                        @Html.LabelFor(m => m.Telefone) <br>

                        @Html.TextBoxFor(m => m.Telefone, new { @class = "form-control" }) <br>

                        @Html.LabelFor(m => m.Celular) <br>

                        @Html.TextBoxFor(m => m.Celular, new { @class = "form-control" }) <br>

                        @Html.LabelFor(m => m.Cep) <br>

                        @Html.TextBoxFor(m => m.Cep, new { @class = "form-control" }) <br>

                        @Html.LabelFor(m => m.Num) <br>

                        @Html.TextBoxFor(m => m.Num, new { @class = "form-control" }) <br>


                        <div class="col text-center my-3">
                            <button type="submit" class="btn btn-primary">Enviar</button>
                        </div>

                    </fieldset>
                </div>

            }
        }
        else
        {
            <div class="form-container" style="padding: 15% 0 10% 0;">
                <div class="form-group col-4 mx-auto" style="margin-bottom: 0;">
                    <h1 class="text-center">Acesso negado</h1>
                    <div class="col text-center my-3">
                        <button class="btn btn-primary" onclick="location.href='@Url.Action("Index", "Busca")'">
                            Voltar ao início
                        </button>
                    </div>
                </div>
            </div>
        }
    }
}